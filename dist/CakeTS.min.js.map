{"version":3,"file":"CakeTS.min.js","sources":["CakeTS.js"],"names":["CakeTS","Core","Error","message","this","Name","Message","Target","arguments","callee","caller","__extends","d","b","__","constructor","p","hasOwnProperty","prototype","Errors","AuthenticationError","_super","apply","InvalidPathError","UnauthenticatedAccessError","UninitializedAccessError","Events","TSEvent","sender","eventHandlers","Fire","eventData","i","length","Attach","handler","context","originalHandler","eventArgs","call","push","Remove","splice","NumHandlers","DOMEvent","event","selector","_this","GetElement","on","element","jQuery","Utils","StringExtensions","IsUpperCase","text","match","MakeInitialLowerCase","word","substring","toLowerCase","ToPascalCase","removeUnderscores","replace","words","split","restOfWord","toUpperCase","join","ToCamelCase","value","AddUnderscores","pascalCasedWord","AddDashes","AddUnderscorePrefix","GetNameVariants","name","Data","Model","ToObject","ko","toJS","Serialize","toJSON","Update","data","prop","self","isObservable","unwrappedProperty","utils","unwrapObservable","nameVariants","indexOf","Array","modelReference","newArray","a","newModel","model","Proxies","ProxyEndpoint","Typertext","Http","HttpProtocol","domain","protocol","path","port","GetDomain","GetProtocol","GetPath","GetPort","ProxyStatus","ProxyResponse","status","GetStatus","GetData","Pushup","JsonRequest","Json","HttpUrl","PushUpAPI","endpoint","accessToken","accessTokenExpiration","_AccessToken","_AccessTokenExpiration","_Endpoint","AuthenticationUpdate","RawResponse","response","statusCode","GetHttpStatus","Authenticated","requestStatus","GetContent","RawRequest","request","callback","cb","GetAccessToken","item","newRequest","lastIndexOf","serverRequest","url","FromUrl","ToString","EncodeQueryString","Delete","Post","Put","Get","e","Authenticate","expiresAt","Date","getTime","Deauthenticate","GetAccessTokenExpiration","GetEndpoint","Routing","HistoryItem","pageName","params","pageParams","FromString","piece","pieces","page","shift","undefined","arg","CompareHistoryItems","item1","item2","GetPageName","key","item1Params","GetPageParams","item2Params","returnValue","CompareTo","input","IFrame","MessageException","type","GetType","LogLevel","LogCategory","Logger","instance","logLevel","console","window","log","trace","dumpObject","dir","info","warn","error","GetInstance","SetLogLevel","level","EnableAll","DisableAll","Trace","Debug","Info","Warn","IFrameMessenger","origin","handlers","ready","targetOrigin","handleMessage","HandleMessage","addEventListener","attachEvent","uniqueId","Math","floor","random","messenger","capabilities","parentCapabilities","Register","MessengerAdded","SendMessage","IsReady","parent","postMessage","JSON","stringify","ident","scope","parse","parsed","MessageEvent","UI","Manager","router","_router","GetRouter","_element","SetElement","HasPage","pages","AuthenticationCheck","InterceptChange","ScrollWatcher","elementToWatch","padding","ScrollLimitReached","onscroll","OnElementScroll","Enable","pageHeight","scrollPosition","clientHeight","scrollHeight","scrollTop","isEnabled","Disable","Destroy","ViewModel","Navigate","_rootElement","applyBindings","NavigatePage","args","cleanNode","Widget","viewModel","_viewModel","GetViewModel","Storage","CheckLocalStorage","storage","test","setItem","getItem","removeItem","localStorageEnabled","localStorage","fallback","Set","Iterate","worker","result","NativeEnabled","UrlHandling","ParseUrl","document","createElement","href","hostname","parseInt"],"mappings":"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","sourcesContent":["var CakeTS;\n(function (CakeTS) {\n    (function (Core) {\n        var Error = (function () {\n            function Error(message) {\n                this.Name = \"Error\";\n                this.Message = \"\";\n                this.Message = message;\n                this.Target = arguments.callee.caller;\n            }\n            return Error;\n        })();\n        Core.Error = Error;\n    })(CakeTS.Core || (CakeTS.Core = {}));\n    var Core = CakeTS.Core;\n})(CakeTS || (CakeTS = {}));\nvar __extends = this.__extends || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    __.prototype = b.prototype;\n    d.prototype = new __();\n};\nvar CakeTS;\n(function (CakeTS) {\n    (function (Core) {\n        (function (Errors) {\n            var AuthenticationError = (function (_super) {\n                __extends(AuthenticationError, _super);\n                function AuthenticationError() {\n                    _super.apply(this, arguments);\n                }\n                return AuthenticationError;\n            })(Core.Error);\n            Errors.AuthenticationError = AuthenticationError;\n        })(Core.Errors || (Core.Errors = {}));\n        var Errors = Core.Errors;\n    })(CakeTS.Core || (CakeTS.Core = {}));\n    var Core = CakeTS.Core;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Core) {\n        (function (Errors) {\n            var InvalidPathError = (function (_super) {\n                __extends(InvalidPathError, _super);\n                function InvalidPathError() {\n                    _super.apply(this, arguments);\n                }\n                return InvalidPathError;\n            })(Core.Error);\n            Errors.InvalidPathError = InvalidPathError;\n        })(Core.Errors || (Core.Errors = {}));\n        var Errors = Core.Errors;\n    })(CakeTS.Core || (CakeTS.Core = {}));\n    var Core = CakeTS.Core;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Core) {\n        (function (Errors) {\n            var UnauthenticatedAccessError = (function (_super) {\n                __extends(UnauthenticatedAccessError, _super);\n                function UnauthenticatedAccessError() {\n                    _super.apply(this, arguments);\n                }\n                return UnauthenticatedAccessError;\n            })(Core.Error);\n            Errors.UnauthenticatedAccessError = UnauthenticatedAccessError;\n        })(Core.Errors || (Core.Errors = {}));\n        var Errors = Core.Errors;\n    })(CakeTS.Core || (CakeTS.Core = {}));\n    var Core = CakeTS.Core;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Core) {\n        (function (Errors) {\n            var UninitializedAccessError = (function (_super) {\n                __extends(UninitializedAccessError, _super);\n                function UninitializedAccessError() {\n                    _super.apply(this, arguments);\n                }\n                return UninitializedAccessError;\n            })(Core.Error);\n            Errors.UninitializedAccessError = UninitializedAccessError;\n        })(Core.Errors || (Core.Errors = {}));\n        var Errors = Core.Errors;\n    })(CakeTS.Core || (CakeTS.Core = {}));\n    var Core = CakeTS.Core;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Core) {\n        (function (Events) {\n            var TSEvent = (function () {\n                function TSEvent(sender) {\n                    this.eventHandlers = [];\n                    this.sender = sender;\n                }\n                TSEvent.prototype.Fire = function (eventData) {\n                    for (var i = 0; i < this.eventHandlers.length; i++) {\n                        this.eventHandlers[i](this.sender, eventData);\n                    }\n                };\n\n                TSEvent.prototype.Attach = function (handler, context) {\n                    for (var i = 0; i < this.eventHandlers.length; i++) {\n                        if (this.eventHandlers[i] === handler) {\n                            return;\n                        }\n                    }\n\n                    if (context) {\n                        var originalHandler = handler;\n                        handler = function (sender, eventArgs) {\n                            originalHandler.call(context, sender, eventArgs);\n                        };\n                    }\n\n                    this.eventHandlers.push(handler);\n                };\n\n                TSEvent.prototype.Remove = function (handler) {\n                    for (var i = 0; i < this.eventHandlers.length; i++) {\n                        if (this.eventHandlers[i] !== handler) {\n                            continue;\n                        }\n\n                        this.eventHandlers.splice(i, 1);\n\n                        break;\n                    }\n                };\n\n                TSEvent.prototype.NumHandlers = function () {\n                    return this.eventHandlers.length;\n                };\n                return TSEvent;\n            })();\n            Events.TSEvent = TSEvent;\n        })(Core.Events || (Core.Events = {}));\n        var Events = Core.Events;\n    })(CakeTS.Core || (CakeTS.Core = {}));\n    var Core = CakeTS.Core;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Core) {\n        (function (Events) {\n            var DOMEvent = (function (_super) {\n                __extends(DOMEvent, _super);\n                function DOMEvent(sender, event, selector) {\n                    var _this = this;\n                    _super.call(this, sender);\n\n                    sender.GetElement().on(event, selector || \"\", function (event) {\n                        _this.Fire({\n                            event: event,\n                            element: jQuery(_this)\n                        });\n                    });\n                }\n                return DOMEvent;\n            })(Events.TSEvent);\n            Events.DOMEvent = DOMEvent;\n        })(Core.Events || (Core.Events = {}));\n        var Events = Core.Events;\n    })(CakeTS.Core || (CakeTS.Core = {}));\n    var Core = CakeTS.Core;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Utils) {\n        var StringExtensions = (function () {\n            function StringExtensions() {\n            }\n            StringExtensions.IsUpperCase = function (text) {\n                return text.match(/^[A-Z]+$/) != null;\n            };\n\n            StringExtensions.MakeInitialLowerCase = function (word) {\n                return word.substring(0, 1).toLowerCase() + word.substring(1);\n            };\n\n            StringExtensions.ToPascalCase = function (text, removeUnderscores) {\n                if (text == null || text === \"\") {\n                    return text;\n                }\n\n                text = text.replace(\"_\", \"\");\n                var words = text.split(\" \");\n\n                if (words.length > 1 || StringExtensions.IsUpperCase(words[0])) {\n                    for (var i = 0; i < words.length; i++) {\n                        if (words[i].length > 0) {\n                            var word = words[i];\n                            var restOfWord = word.substring(1);\n\n                            if (StringExtensions.IsUpperCase(restOfWord)) {\n                                restOfWord = restOfWord.toLowerCase();\n                            }\n\n                            words[i] = word.substring(0, 1).toUpperCase() + restOfWord;\n                        }\n                    }\n\n                    return words.join(removeUnderscores ? \"\" : \"_\");\n                }\n\n                return words[0].substring(0, 1).toUpperCase() + words[0].substring(1);\n            };\n\n            StringExtensions.ToCamelCase = function (value) {\n                return StringExtensions.MakeInitialLowerCase(StringExtensions.ToPascalCase(value, true));\n            };\n\n            StringExtensions.AddUnderscores = function (pascalCasedWord) {\n                return pascalCasedWord.replace(/([A-Z]+)([A-Z][a-z])/g, \"$1_$2\").replace(/([a-z\\d])([A-Z])/g, \"$1_$2\").replace(/[-\\s]/g, \"_\");\n            };\n\n            StringExtensions.AddDashes = function (pascalCasedWord) {\n                return pascalCasedWord.replace(/([A-Z]+)([A-Z][a-z])/g, \"$1-$2\").replace(/([a-z\\d])([A-Z])/g, \"$1-$2\").replace(/[\\s]/g, \"-\");\n            };\n\n            StringExtensions.AddUnderscorePrefix = function (pascalCasedWord) {\n                return \"_\" + pascalCasedWord;\n            };\n\n            StringExtensions.GetNameVariants = function (name) {\n                return [\n                    name,\n                    StringExtensions.ToCamelCase(name),\n                    name.toLowerCase(),\n                    StringExtensions.AddUnderscores(name),\n                    StringExtensions.AddUnderscores(name).toLowerCase(),\n                    StringExtensions.AddDashes(name),\n                    StringExtensions.AddDashes(name).toLowerCase(),\n                    StringExtensions.AddUnderscorePrefix(name),\n                    StringExtensions.AddUnderscorePrefix(StringExtensions.ToCamelCase(name))\n                ];\n            };\n            return StringExtensions;\n        })();\n        Utils.StringExtensions = StringExtensions;\n    })(CakeTS.Utils || (CakeTS.Utils = {}));\n    var Utils = CakeTS.Utils;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Data) {\n        var StringExtensions = CakeTS.Utils.StringExtensions;\n\n        var Model = (function () {\n            function Model() {\n            }\n            Model.prototype.ToObject = function () {\n                return ko.toJS(this);\n            };\n\n            Model.prototype.Serialize = function () {\n                return ko.toJSON(this);\n            };\n\n            Model.prototype.Update = function (data) {\n                if (data == null) {\n                    return;\n                }\n\n                var self = this, prop;\n\n                for (prop in self) {\n                    if (!ko.isObservable(self[prop])) {\n                        return;\n                    }\n\n                    var unwrappedProperty = ko.utils.unwrapObservable(self[prop]);\n                    var nameVariants = StringExtensions.GetNameVariants(prop);\n\n                    for (var i = 0; i < nameVariants.length; i++) {\n                        if (data.hasOwnProperty(nameVariants[i])) {\n                            if ([\"string\", \"number\", \"boolean\"].indexOf(typeof unwrappedProperty) >= 0) {\n                                self[prop](data[nameVariants[i]]);\n                                break;\n                            }\n\n                            if (unwrappedProperty instanceof Array) {\n                                var modelReference = unwrappedProperty[0];\n                                var newArray = [];\n                                for (var a = 0; a < data[nameVariants[i]].length; a++) {\n                                    var newModel = new modelReference.constructor;\n                                    newModel.Update(data[nameVariants[i]][a]);\n                                    newArray.push(newModel);\n                                }\n\n                                self[prop](newArray);\n                                break;\n                            }\n\n                            if (typeof unwrappedProperty === \"object\" && unwrappedProperty != null && unwrappedProperty.constructor) {\n                                var model = new unwrappedProperty.constructor;\n                                model.Update(data[nameVariants[i]]);\n                                self[prop](model);\n                                break;\n                            }\n                        }\n                    }\n                }\n            };\n            return Model;\n        })();\n        Data.Model = Model;\n    })(CakeTS.Data || (CakeTS.Data = {}));\n    var Data = CakeTS.Data;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Data) {\n        (function (Proxies) {\n            var HttpProtocol = Typertext.Http.HttpProtocol;\n            var ProxyEndpoint = (function () {\n                function ProxyEndpoint(domain, protocol, path, port) {\n                    if (typeof protocol === \"undefined\") { protocol = 1 /* https */; }\n                    if (typeof path === \"undefined\") { path = \"\"; }\n                    if (typeof port === \"undefined\") { port = 0; }\n                    this.domain = domain;\n                    this.protocol = protocol;\n                    this.path = path;\n                    this.port = port;\n                }\n                ProxyEndpoint.prototype.GetDomain = function () {\n                    return this.domain;\n                };\n\n                ProxyEndpoint.prototype.GetProtocol = function () {\n                    return this.protocol;\n                };\n\n                ProxyEndpoint.prototype.GetPath = function () {\n                    return this.path;\n                };\n\n                ProxyEndpoint.prototype.GetPort = function () {\n                    return this.port;\n                };\n                return ProxyEndpoint;\n            })();\n            Proxies.ProxyEndpoint = ProxyEndpoint;\n        })(Data.Proxies || (Data.Proxies = {}));\n        var Proxies = Data.Proxies;\n    })(CakeTS.Data || (CakeTS.Data = {}));\n    var Data = CakeTS.Data;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Data) {\n        (function (Proxies) {\n            (function (ProxyStatus) {\n                ProxyStatus[ProxyStatus[\"Success\"] = 0] = \"Success\";\n                ProxyStatus[ProxyStatus[\"ServerError\"] = 1] = \"ServerError\";\n                ProxyStatus[ProxyStatus[\"ClientError\"] = 2] = \"ClientError\";\n                ProxyStatus[ProxyStatus[\"UnknownError\"] = 3] = \"UnknownError\";\n            })(Proxies.ProxyStatus || (Proxies.ProxyStatus = {}));\n            var ProxyStatus = Proxies.ProxyStatus;\n        })(Data.Proxies || (Data.Proxies = {}));\n        var Proxies = Data.Proxies;\n    })(CakeTS.Data || (CakeTS.Data = {}));\n    var Data = CakeTS.Data;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Data) {\n        (function (Proxies) {\n            var ProxyResponse = (function () {\n                function ProxyResponse(status, data) {\n                    if (typeof data === \"undefined\") { data = {}; }\n                    this.status = status;\n                    this.data = data;\n                }\n                ProxyResponse.prototype.GetStatus = function () {\n                    return this.status;\n                };\n\n                ProxyResponse.prototype.GetData = function () {\n                    return this.data;\n                };\n                return ProxyResponse;\n            })();\n            Proxies.ProxyResponse = ProxyResponse;\n        })(Data.Proxies || (Data.Proxies = {}));\n        var Proxies = Data.Proxies;\n    })(CakeTS.Data || (CakeTS.Data = {}));\n    var Data = CakeTS.Data;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Data) {\n        (function (Proxies) {\n            (function (Pushup) {\n                var ProxyResponse = CakeTS.Data.Proxies.ProxyResponse;\n                var ProxyStatus = CakeTS.Data.Proxies.ProxyStatus;\n\n                var JsonRequest = Typertext.Json.JsonRequest;\n                var HttpUrl = Typertext.Http.HttpUrl;\n\n                var TSEvent = CakeTS.Core.Events.TSEvent;\n\n                var UnauthenticatedAccessError = CakeTS.Core.Errors.UnauthenticatedAccessError;\n\n                var PushUpAPI = (function () {\n                    function PushUpAPI(endpoint, accessToken, accessTokenExpiration) {\n                        this._AccessToken = \"\";\n                        this._AccessTokenExpiration = 0;\n                        this._Endpoint = endpoint;\n                        this._AccessToken = accessToken;\n                        this._AccessTokenExpiration = accessTokenExpiration;\n\n                        this.AuthenticationUpdate = new TSEvent(this);\n                    }\n                    PushUpAPI.prototype.RawResponse = function (response) {\n                        var statusCode = response.GetHttpStatus();\n                        if (statusCode === 401) {\n                            if (this.Authenticated()) {\n                                this._AccessToken = null;\n                                this._AccessTokenExpiration = 0;\n                                this.AuthenticationUpdate.Fire(this);\n                            }\n                        }\n\n                        var requestStatus;\n                        if (response.GetStatus() === 0 /* success */) {\n                            requestStatus = 0 /* Success */;\n                        } else if (statusCode >= 500 && statusCode < 600) {\n                            requestStatus = 1 /* ServerError */;\n                        } else if (statusCode >= 400 && statusCode < 500) {\n                            requestStatus = 2 /* ClientError */;\n                        } else {\n                            requestStatus = 3 /* UnknownError */;\n                        }\n\n                        return new ProxyResponse(requestStatus, response.GetContent());\n                    };\n\n                    PushUpAPI.prototype.RawRequest = function (request, callback) {\n                        var _this = this;\n                        var cb = function (response) {\n                            callback(_this.RawResponse(response));\n                        };\n\n                        if (typeof request !== \"object\") {\n                            request = {};\n                        }\n\n                        if (!(\"queryString\" in request)) {\n                            request[\"queryString\"] = {};\n                        } else if (typeof request[\"queryString\"] !== \"object\") {\n                            throw {};\n                        }\n\n                        if (typeof request[\"queryString\"][\"access_token\"] === \"undefined\" || request[\"queryString\"][\"access_token\"] !== false) {\n                            if (!this.Authenticated()) {\n                                throw new UnauthenticatedAccessError(request);\n                            }\n\n                            request[\"queryString\"][\"access_token\"] = this.GetAccessToken();\n                        } else {\n                            delete request[\"queryString\"][\"access_token\"];\n                        }\n\n                        if (!(\"postData\" in request)) {\n                            request[\"postData\"] = {};\n                        } else if (typeof request[\"postData\"] !== \"object\") {\n                            throw {};\n                        }\n\n                        if (request[\"method\"] === \"GET\") {\n                            var newRequest = request[\"postData\"], item;\n\n                            delete request[\"postData\"];\n\n                            for (item in request[\"queryString\"]) {\n                                newRequest[item] = request[\"queryString\"][item];\n                            }\n                            request[\"queryString\"] = newRequest;\n                        }\n\n                        if (!(\"path\" in request) || typeof request[\"path\"] !== \"string\") {\n                            request[\"path\"] = \"/\";\n                        } else if (request[\"path\"].indexOf(\"/\") !== 0) {\n                            request[\"path\"] = \"/\" + request[\"path\"];\n                        }\n\n                        if (request[\"path\"].lastIndexOf(\"/\") !== request[\"path\"].length - 1) {\n                            request[\"path\"] = request[\"path\"] + \"/\";\n                        }\n\n                        try  {\n                            var serverRequest = new JsonRequest();\n\n                            var url = HttpUrl.FromUrl(this._Endpoint.ToString() + request[\"path\"] + Typertext.Http.HttpUrl.EncodeQueryString(request[\"queryString\"]));\n                            switch (request[\"method\"]) {\n                                case \"DELETE\":\n                                    serverRequest.Delete(url, cb);\n                                    break;\n                                case \"POST\":\n                                    serverRequest.Post(url, request[\"postData\"], cb);\n                                    break;\n                                case \"PUT\":\n                                    serverRequest.Put(url, request[\"postData\"], cb);\n                                    break;\n                                case \"GET\":\n                                default:\n                                    serverRequest.Get(url, cb);\n                            }\n                        } catch (e) {\n                            callback(new ProxyResponse(1 /* ServerError */));\n                        }\n                    };\n\n                    PushUpAPI.prototype.Authenticate = function (accessToken, expiresAt) {\n                        this._AccessToken = accessToken;\n                        this._AccessTokenExpiration = expiresAt;\n                        this.AuthenticationUpdate.Fire(this);\n                    };\n\n                    PushUpAPI.prototype.Authenticated = function () {\n                        return this._AccessToken !== \"\" && this._AccessTokenExpiration > (new Date().getTime() / 1000);\n                    };\n\n                    PushUpAPI.prototype.Deauthenticate = function () {\n                        this._AccessToken = \"\";\n                        this._AccessTokenExpiration = 0;\n                        this.AuthenticationUpdate.Fire(this);\n                    };\n\n                    PushUpAPI.prototype.GetAccessToken = function () {\n                        if (!this.Authenticated()) {\n                            throw {};\n                        }\n\n                        return this._AccessToken;\n                    };\n\n                    PushUpAPI.prototype.GetAccessTokenExpiration = function () {\n                        if (!this.Authenticated()) {\n                            throw {};\n                        }\n\n                        return this._AccessTokenExpiration;\n                    };\n\n                    PushUpAPI.prototype.GetEndpoint = function () {\n                        return this._Endpoint;\n                    };\n                    return PushUpAPI;\n                })();\n                Pushup.PushUpAPI = PushUpAPI;\n            })(Proxies.Pushup || (Proxies.Pushup = {}));\n            var Pushup = Proxies.Pushup;\n        })(Data.Proxies || (Data.Proxies = {}));\n        var Proxies = Data.Proxies;\n    })(CakeTS.Data || (CakeTS.Data = {}));\n    var Data = CakeTS.Data;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Routing) {\n        var HistoryItem = (function () {\n            function HistoryItem(pageName, params) {\n                this.pageName = pageName;\n                this.pageParams = params;\n            }\n            HistoryItem.FromString = function (path) {\n                var pieces = path.split(\"/\"), arguments = {};\n\n                var page = pieces.shift();\n\n                var piece;\n                while ((piece = pieces.shift()) !== undefined) {\n                    var arg = piece.split(\":\");\n                    if (arg.length > 1) {\n                        arguments[arg.shift()] = arg.join(\":\");\n                    }\n                }\n\n                return new HistoryItem(page, arguments);\n            };\n\n            HistoryItem.CompareHistoryItems = function (item1, item2) {\n                if (item1.GetPageName() !== item2.GetPageName()) {\n                    return false;\n                }\n\n                var key;\n                var item1Params = item1.GetPageParams();\n                var item2Params = item2.GetPageParams();\n                for (key in item1Params) {\n                    if (item1Params.hasOwnProperty(key) && (!item2Params.hasOwnProperty(key) || item2Params[key] !== item1Params[key])) {\n                        return false;\n                    }\n                }\n\n                for (key in item2) {\n                    if (item2.hasOwnProperty(key) && !item1.hasOwnProperty(key)) {\n                        return false;\n                    }\n                }\n\n                return true;\n            };\n\n            HistoryItem.prototype.GetPageName = function () {\n                return this.pageName;\n            };\n\n            HistoryItem.prototype.GetPageParams = function () {\n                return this.pageParams;\n            };\n\n            HistoryItem.prototype.ToString = function () {\n                var returnValue = this.pageName, name;\n                for (name in this.pageParams) {\n                    returnValue += \"/\" + name + \":\" + this.pageParams[name];\n                }\n\n                return returnValue;\n            };\n\n            HistoryItem.prototype.CompareTo = function (input) {\n                return HistoryItem.CompareHistoryItems(this, input);\n            };\n            return HistoryItem;\n        })();\n        Routing.HistoryItem = HistoryItem;\n    })(CakeTS.Routing || (CakeTS.Routing = {}));\n    var Routing = CakeTS.Routing;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Routing) {\n        (function (IFrame) {\n            var MessageException = (function () {\n                function MessageException() {\n                }\n                return MessageException;\n            })();\n            IFrame.MessageException = MessageException;\n\n            var Message = (function () {\n                function Message(type, data) {\n                    this.type = type;\n                    this.data = data;\n                    if (this.data === undefined) {\n                        throw new MessageException();\n                    }\n                }\n                Message.prototype.GetData = function () {\n                    return this.data;\n                };\n\n                Message.prototype.GetType = function () {\n                    return this.type;\n                };\n                return Message;\n            })();\n            IFrame.Message = Message;\n        })(Routing.IFrame || (Routing.IFrame = {}));\n        var IFrame = Routing.IFrame;\n    })(CakeTS.Routing || (CakeTS.Routing = {}));\n    var Routing = CakeTS.Routing;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Routing) {\n        (function (IFrame) {\n        })(Routing.IFrame || (Routing.IFrame = {}));\n        var IFrame = Routing.IFrame;\n    })(CakeTS.Routing || (CakeTS.Routing = {}));\n    var Routing = CakeTS.Routing;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Utils) {\n        (function (LogLevel) {\n            LogLevel[LogLevel[\"Trace\"] = 0] = \"Trace\";\n            LogLevel[LogLevel[\"Debug\"] = 1] = \"Debug\";\n            LogLevel[LogLevel[\"Info\"] = 2] = \"Info\";\n            LogLevel[LogLevel[\"Warn\"] = 3] = \"Warn\";\n            LogLevel[LogLevel[\"Error\"] = 4] = \"Error\";\n            LogLevel[LogLevel[\"Slient\"] = 5] = \"Slient\";\n        })(Utils.LogLevel || (Utils.LogLevel = {}));\n        var LogLevel = Utils.LogLevel;\n    })(CakeTS.Utils || (CakeTS.Utils = {}));\n    var Utils = CakeTS.Utils;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Utils) {\n        (function (LogCategory) {\n            LogCategory[LogCategory[\"Loader\"] = 0] = \"Loader\";\n            LogCategory[LogCategory[\"Component\"] = 1] = \"Component\";\n            LogCategory[LogCategory[\"Router\"] = 2] = \"Router\";\n            LogCategory[LogCategory[\"Messenger\"] = 3] = \"Messenger\";\n            LogCategory[LogCategory[\"ViewModel\"] = 4] = \"ViewModel\";\n            LogCategory[LogCategory[\"Model\"] = 5] = \"Model\";\n            LogCategory[LogCategory[\"Widget\"] = 6] = \"Widget\";\n        })(Utils.LogCategory || (Utils.LogCategory = {}));\n        var LogCategory = Utils.LogCategory;\n    })(CakeTS.Utils || (CakeTS.Utils = {}));\n    var Utils = CakeTS.Utils;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Utils) {\n        var Logger = (function () {\n            function Logger() {\n                if (Logger.instance != null) {\n                    return;\n                }\n\n                this.logLevel = 5 /* Slient */;\n\n                var console = window[\"console\"] || { log: function () {\n                        return null;\n                    } };\n\n                this.log = function (input) {\n                    return console.log(input);\n                };\n\n                this.trace = (typeof console.trace === \"undefined\" ? function () {\n                } : function () {\n                    return console.trace.call(console);\n                });\n\n                this.dumpObject = (typeof console.dir === \"undefined\" ? function (input) {\n                    return console.log(input);\n                } : function (input) {\n                    return console.dir(input);\n                });\n\n                this.info = (typeof console.info === \"undefined\" ? function (input) {\n                    return console.log(input);\n                } : function (input) {\n                    return console.info.call(console, input);\n                });\n\n                this.warn = (typeof console.warn === \"undefined\" ? function (input) {\n                    return console.log(input);\n                } : function (input) {\n                    return console.warn(input);\n                });\n\n                this.error = (typeof console.error === \"undefined\" ? function (input) {\n                    return console.log(input);\n                } : function (input) {\n                    return console.error(input);\n                });\n\n                Logger.instance = this;\n            }\n            Logger.GetInstance = function () {\n                if (Logger.instance == null) {\n                    Logger.instance = new Logger();\n                }\n\n                return Logger.instance;\n            };\n\n            Logger.SetLogLevel = function (level) {\n                Logger.GetInstance().logLevel = level;\n            };\n\n            Logger.EnableAll = function () {\n                Logger.GetInstance().logLevel = 0 /* Trace */;\n            };\n\n            Logger.DisableAll = function () {\n                Logger.GetInstance().logLevel = 5 /* Slient */;\n            };\n\n            Logger.Trace = function (category) {\n                var log = Logger.GetInstance();\n\n                if (log.logLevel > 0 /* Trace */) {\n                    return;\n                }\n\n                log.trace();\n            };\n\n            Logger.Debug = function (input, category) {\n                var log = Logger.GetInstance();\n\n                if (log.logLevel > 1 /* Debug */) {\n                    return;\n                }\n\n                log.dumpObject(input);\n            };\n\n            Logger.Info = function (input, category) {\n                var log = Logger.GetInstance();\n\n                if (log.logLevel > 2 /* Info */) {\n                    return;\n                }\n\n                log.info(input);\n            };\n\n            Logger.Warn = function (input, category) {\n                var log = Logger.GetInstance();\n\n                if (log.logLevel > 3 /* Warn */) {\n                    return;\n                }\n\n                log.warn(input);\n            };\n\n            Logger.Error = function (input, category) {\n                var log = Logger.GetInstance();\n\n                if (log.logLevel > 4 /* Error */) {\n                    return;\n                }\n\n                log.error(input);\n            };\n            Logger.instance = null;\n            return Logger;\n        })();\n        Utils.Logger = Logger;\n    })(CakeTS.Utils || (CakeTS.Utils = {}));\n    var Utils = CakeTS.Utils;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Routing) {\n        (function (IFrame) {\n            var TSEvent = CakeTS.Core.Events.TSEvent;\n            var Logger = CakeTS.Utils.Logger;\n            var LogCategory = CakeTS.Utils.LogCategory;\n\n            var IFrameMessenger = (function () {\n                function IFrameMessenger(origin) {\n                    var _this = this;\n                    this.handlers = {};\n                    this.ready = false;\n                    this.targetOrigin = origin;\n\n                    var handleMessage = function (data) {\n                        Logger.Info(\"Got raw message in PushupMessenger:\", 3 /* Messenger */);\n                        Logger.Debug(data, 3 /* Messenger */);\n                        _this.HandleMessage(data);\n                    };\n\n                    if (window.addEventListener) {\n                        window.addEventListener(\"message\", handleMessage, false);\n                    } else if (window.attachEvent) {\n                        window.attachEvent(\"onmessage\", handleMessage);\n                    }\n\n                    this.uniqueId = \"Messenger\" + Math.floor(Math.random() * 100000000);\n                    var handler = function (messenger, message) {\n                        Logger.Info(\"Testing parent cap\", 0 /* Loader */);\n                        if (message.GetData()[\"uniqueId\"] === _this.uniqueId) {\n                            var capabilities = message.GetData()[\"capabilities\"];\n                            for (var i = capabilities.length - 1; i >= 0; i--) {\n                                _this.parentCapabilities[capabilities[i]] = \"\";\n                            }\n                            _this.ready = true;\n                        }\n                    };\n                    this.Register(\"ParentCapabilities\", handler, this);\n\n                    this.parentCapabilities = {\n                        \"MessengerAdded\": \"\"\n                    };\n                    this.SendMessage(new IFrame.Message(\"MessengerAdded\", { \"uniqueId\": this.uniqueId }));\n                }\n                IFrameMessenger.prototype.IsReady = function () {\n                    return this.ready;\n                };\n\n                IFrameMessenger.prototype.SendMessage = function (message) {\n                    if (!(message.GetType() in this.parentCapabilities)) {\n                        return;\n                    }\n\n                    parent.postMessage(JSON.stringify({\n                        \"ident\": \"PushupEvent\",\n                        \"type\": message.GetType(),\n                        \"data\": message.GetData()\n                    }), this.targetOrigin);\n                };\n\n                IFrameMessenger.prototype.Register = function (type, callback, scope) {\n                    if (typeof scope === \"undefined\") { scope = null; }\n                    if (!this.handlers.hasOwnProperty(type)) {\n                        this.handlers[type] = new TSEvent(this);\n                    }\n                    if (scope == null) {\n                        scope = {};\n                    }\n\n                    this.handlers[type].Attach(callback);\n                };\n\n                IFrameMessenger.prototype.HandleMessage = function (message) {\n                    try  {\n                        var data = JSON.parse(message[\"data\"]);\n                        if (message.origin !== this.targetOrigin || typeof data !== \"object\" || data[\"ident\"] !== \"PushupEvent\" || typeof data[\"data\"] === \"undefined\" || typeof data[\"type\"] !== \"string\") {\n                            return;\n                        }\n\n                        if (this.handlers.hasOwnProperty(data[\"type\"])) {\n                            var parsed = new IFrame.Message(data[\"type\"], data[\"data\"]);\n                            this.handlers[data[\"type\"]].Fire(parsed);\n                        }\n                    } catch (e) {\n                    }\n                };\n                return IFrameMessenger;\n            })();\n            IFrame.IFrameMessenger = IFrameMessenger;\n        })(Routing.IFrame || (Routing.IFrame = {}));\n        var IFrame = Routing.IFrame;\n    })(CakeTS.Routing || (CakeTS.Routing = {}));\n    var Routing = CakeTS.Routing;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Routing) {\n        (function (IFrame) {\n            var TSEvent = CakeTS.Core.Events.TSEvent;\n\n            var MessageEvent = (function (_super) {\n                __extends(MessageEvent, _super);\n                function MessageEvent() {\n                    _super.apply(this, arguments);\n                }\n                return MessageEvent;\n            })(TSEvent);\n            IFrame.MessageEvent = MessageEvent;\n        })(Routing.IFrame || (Routing.IFrame = {}));\n        var IFrame = Routing.IFrame;\n    })(CakeTS.Routing || (CakeTS.Routing = {}));\n    var Routing = CakeTS.Routing;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (UI) {\n        var Manager = (function () {\n            function Manager(router) {\n                this._router = router;\n            }\n            Manager.prototype.GetRouter = function () {\n                return this._router;\n            };\n\n            Manager.prototype.GetElement = function () {\n                return this._element;\n            };\n\n            Manager.prototype.SetElement = function (selector) {\n                this._element = jQuery(selector);\n            };\n\n            Manager.prototype.HasPage = function (pages, page) {\n                var item;\n                for (item in pages) {\n                    if (pages.hasOwnProperty(item)) {\n                        if (pages[item] === page) {\n                            return true;\n                        }\n                    }\n                }\n\n                return false;\n            };\n\n            Manager.prototype.AuthenticationCheck = function (pageName) {\n                return false;\n            };\n\n            Manager.prototype.InterceptChange = function (item) {\n                return item;\n            };\n            return Manager;\n        })();\n        UI.Manager = Manager;\n    })(CakeTS.UI || (CakeTS.UI = {}));\n    var UI = CakeTS.UI;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (UI) {\n        var TSEvent = CakeTS.Core.Events.TSEvent;\n\n        var ScrollWatcher = (function () {\n            function ScrollWatcher(elementToWatch, padding) {\n                var _this = this;\n                if (typeof padding === \"undefined\") {\n                    padding = 0;\n                }\n\n                this.element = elementToWatch;\n                this.padding = padding;\n\n                this.ScrollLimitReached = new TSEvent(this);\n\n                this.element.onscroll = function (event) {\n                    _this.OnElementScroll(event);\n                };\n\n                this.Enable();\n            }\n            ScrollWatcher.prototype.OnElementScroll = function (eventArgs) {\n                var pageHeight;\n                var scrollPosition;\n                var clientHeight;\n\n                pageHeight = this.element.scrollHeight;\n                scrollPosition = this.element.scrollTop;\n                clientHeight = this.element.clientHeight;\n\n                if (pageHeight - (scrollPosition + clientHeight) < this.padding && this.isEnabled === true) {\n                    this.ScrollLimitReached.Fire();\n                }\n            };\n\n            ScrollWatcher.prototype.Enable = function () {\n                this.isEnabled = true;\n                this.OnElementScroll(null);\n            };\n\n            ScrollWatcher.prototype.Disable = function () {\n                this.isEnabled = false;\n            };\n\n            ScrollWatcher.prototype.Destroy = function () {\n                this.element.onscroll = null;\n            };\n            return ScrollWatcher;\n        })();\n        UI.ScrollWatcher = ScrollWatcher;\n    })(CakeTS.UI || (CakeTS.UI = {}));\n    var UI = CakeTS.UI;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (UI) {\n        var TSEvent = CakeTS.Core.Events.TSEvent;\n        var HistoryItem = CakeTS.Routing.HistoryItem;\n\n        var ViewModel = (function () {\n            function ViewModel(scope) {\n                this.Navigate = new TSEvent(this);\n\n                if (typeof scope === \"undefined\") {\n                    return;\n                }\n\n                switch (typeof scope) {\n                    case \"string\":\n                        scope = jQuery(scope);\n                        break;\n                    case \"undefined\":\n                        scope = jQuery(\"<div>\");\n                        break;\n                }\n\n                this._rootElement = scope;\n\n                ko.applyBindings(this, this._rootElement[0]);\n            }\n            ViewModel.prototype.GetElement = function () {\n                return this._rootElement;\n            };\n\n            ViewModel.prototype.SetElement = function (element) {\n                this._rootElement = element;\n            };\n\n            ViewModel.prototype.NavigatePage = function (page, args) {\n                this.Navigate.Fire(new HistoryItem(page, args));\n            };\n\n            ViewModel.prototype.Destroy = function () {\n                ko.cleanNode(this._rootElement[0]);\n            };\n            return ViewModel;\n        })();\n        UI.ViewModel = ViewModel;\n    })(CakeTS.UI || (CakeTS.UI = {}));\n    var UI = CakeTS.UI;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (UI) {\n        var Widget = (function () {\n            function Widget(viewModel) {\n                this._viewModel = viewModel;\n            }\n            Widget.prototype.GetViewModel = function () {\n                return this._viewModel;\n            };\n            return Widget;\n        })();\n        UI.Widget = Widget;\n    })(CakeTS.UI || (CakeTS.UI = {}));\n    var UI = CakeTS.UI;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Utils) {\n        var Storage = (function () {\n            function Storage() {\n            }\n            Storage.CheckLocalStorage = function (storage) {\n                try  {\n                    var test = \"test\";\n                    storage.setItem(test, test);\n                    storage.getItem(test);\n                    storage.removeItem(test);\n                    return true;\n                } catch (e) {\n                    return false;\n                }\n            };\n\n            Storage.Get = function (key) {\n                if (Storage.localStorageEnabled) {\n                    try  {\n                        return JSON.parse(window.localStorage.getItem(key));\n                    } catch (e) {\n                    }\n                }\n                return Storage.fallback[key];\n            };\n\n            Storage.Set = function (key, value) {\n                if (Storage.localStorageEnabled) {\n                    try  {\n                        window.localStorage.setItem(key, JSON.stringify(value));\n                    } catch (e) {\n                    }\n                }\n                Storage.fallback[key] = value;\n            };\n\n            Storage.Iterate = function (worker) {\n                var result;\n                if (Storage.localStorageEnabled) {\n                    for (var i = 0; i < window.localStorage.length; i++) {\n                        var key = window.localStorage.key(i);\n\n                        result = worker(window.localStorage.getItem(key));\n                        if (!result) {\n                            window.localStorage.removeItem(key);\n                            i--;\n                        } else {\n                            window.localStorage.setItem(key, result);\n                        }\n                    }\n                } else {\n                    result = worker(Storage.fallback);\n                    if (!result) {\n                        Storage.fallback = {};\n                    } else {\n                        Storage.fallback = result;\n                    }\n                }\n            };\n\n            Storage.NativeEnabled = function () {\n                return Storage.localStorageEnabled;\n            };\n            Storage.localStorageEnabled = Storage.CheckLocalStorage(window.localStorage);\n\n            Storage.fallback = {};\n            return Storage;\n        })();\n        Utils.Storage = Storage;\n    })(CakeTS.Utils || (CakeTS.Utils = {}));\n    var Utils = CakeTS.Utils;\n})(CakeTS || (CakeTS = {}));\nvar CakeTS;\n(function (CakeTS) {\n    (function (Utils) {\n        var UrlHandling = (function () {\n            function UrlHandling() {\n            }\n            UrlHandling.ParseUrl = function (url) {\n                var a = document.createElement(\"a\");\n                a.href = url;\n                return {\n                    protocol: a.protocol,\n                    domain: a.hostname,\n                    port: parseInt(a.port, 10)\n                };\n            };\n            return UrlHandling;\n        })();\n        Utils.UrlHandling = UrlHandling;\n    })(CakeTS.Utils || (CakeTS.Utils = {}));\n    var Utils = CakeTS.Utils;\n})(CakeTS || (CakeTS = {}));\n//# sourceMappingURL=CakeTS.js.map\n"]}